(function(){"use strict";angular.module("teagleApp",["ngMessages","ngResource","ngSanitize","ngTouch","ng-token-auth","ui.router","ui.utils"]).config(["$httpProvider","$authProvider",function(a,b){return a.interceptors.push("apiInterceptor"),b.configure({apiUrl:"http://localhost:3000/api",tokenValidationPath:"/users/validate_token",signOutUrl:"/users/sign_out",emailSignInPath:"/users/sign_in",storage:"localStorage"})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){return b.otherwise("/"),a.state("index",{url:"/",templateUrl:"views/index.html",controller:"IndexCtrl"}).state("admin",{"abstract":!0,url:"/admin",template:"<ui-view/>"}).state("admin.index",{url:"/",templateUrl:"views/admin/index.html",controller:"AdminIndexCtrl"}).state("admin.sign_in",{url:"/sign_in",templateUrl:"views/admin/sign_in.html",controller:"AdminSignInCtrl"})}])}).call(this),function(){"use strict";angular.module("teagleApp").controller("MainCtrl",["$scope",function(a){}])}.call(this),function(){"use strict";angular.module("teagleApp").controller("IndexCtrl",["$scope",function(a){}])}.call(this),function(){"use strict";angular.module("teagleApp").controller("AdminIndexCtrl",["$scope","$auth","$state","$http",function(a,b,c,d){return b.userIsAuthenticated()?(d.get("api/brands").then(function(b){return 200===b.status?a.brands=b.data:void 0}),a.newBrand={},a.submitNewBrand=function(){return d.post("api/brands",a.newBrand).then(function(b){return a.brands.push(a.newBrand),a.newBrand={}})}):c.go("^.sign_in")}])}.call(this),function(){"use strict";angular.module("teagleApp").controller("AdminSignInCtrl",["$scope","$auth","$state","$http",function(a,b,c,d){return a.submitLogin=function(a){return b.submitLogin(a).then(function(a){return c.go("^.index")})["catch"](function(a){return console.log(a)})}}])}.call(this),function(){"use strict";angular.module("teagleApp").factory("apiInterceptor",["$q",function(a){return{request:function(a){var b;return a.url=a.url.replace(/^api/,"http://localhost:3000/api"),a.headers.Accept="application/teagle.api.v1",a.headers["Access-Control-Allow-Origin"]="*",localStorage.auth_headers&&!a.headers["access-token"]&&(b=JSON.parse(localStorage.auth_headers),angular.extend(a.headers,b)),a},response:function(a){return a},responseError:function(b){return console.log("responseError: ",b),a.reject(b)}}}])}.call(this);